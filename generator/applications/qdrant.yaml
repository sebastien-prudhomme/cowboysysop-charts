name: qdrant
appVersion: 1.3.0
description: Vector similarity search engine and vector database
home: https://qdrant.tech/
icon: https://raw.githubusercontent.com/cowboysysop/charts/master/charts/qdrant/icon.png
source: https://github.com/qdrant/qdrant
version: 1.1.0
components:
  - name: qdrant
    configmap: |
      production.yaml: |
        service:
          http_port: {{ .Values.containerPorts.http }}
          grpc_port: {{ .Values.containerPorts.grpc }}
        cluster:
          enabled: true
          p2p:
            port: {{ .Values.containerPorts.p2p }}
        telemetry_disabled: true
    deployment:
      type: statefulset
      container:
        env: |
          - name: POD_NAME
            valueFrom:
              fieldRef:
                fieldPath: metadata.name
        livenessProbe:
          httpGet:
            path: /
        readinessProbe:
          httpGet:
            path: /
    image:
      registry: docker.io
      repository: qdrant/qdrant
      tag: v1.3.0
    ingress: true
    persistentvolumeclaim: true
    service:
      ports:
        - name: http
tests: |
  import requests


  def test_service_connection():
      url = "http://{{ include "qdrant.fullname" . }}:{{ .Values.service.ports.http }}/"

      response = requests.get(url)

      assert response.status_code == 200
