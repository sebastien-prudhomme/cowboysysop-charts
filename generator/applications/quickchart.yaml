name: quickchart
components:
  - name: quickchart
    deployment:
      container:
        livenessProbe:
          httpGet:
            path: /healthcheck
        readinessProbe:
          httpGet:
            path: /healthcheck
    ingress: true
    service:
      ports:
        - name: http
tests: |
  import requests


  def test_service_connection():
      url = "http://{{ include "quickchart.fullname" . }}:{{ .Values.service.ports.http }}/"

      response = requests.get(url)

      assert response.status_code == 200
