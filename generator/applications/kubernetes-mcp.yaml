name: kubernetes-mcp
productName: Kubernetes MCP Server
appVersion: 0.0.47
description: is a <<Model Context Protocol server for Kubernetes>>
home: https://github.com/manusa/kubernetes-mcp-server
license: 2025
source: https://github.com/manusa/kubernetes-mcp-server
version: 2.0.0
updates: |
  ### Upgrading to version 2.0.0

  The chart now uses forked versions of the Bitnami charts to reference the Bitnami Legacy repository:

  - https://github.com/bitnami/containers/issues/83267

  A label `app.kubernetes.io/component` will be added to the Deployment. Run this command before upgrading to prevent an immutable field error:

  ```bash
  $ kubectl delete deployment/my-kubernetes-mcp-deployment
  ```

  Pod and container security contexts are now configured with default values.
components:
  - name: kubernetes-mcp
    extraClusterRole: |
      - apiGroups:
          - "*"
        resources:
          - "*"
        verbs:
          - get
          - watch
          - list
    deployment:
      type: deployment
      container:
        args: |
          - --port={{ .Values.containerPorts.http }}
        securityContext:
          readOnlyRootFilesystem: true
          runAsUser: 65534
          runAsGroup: 65534
    image:
      registry: quay.io
      repository: manusa/kubernetes_mcp_server
      tag: v0.0.47
    ingress:
      paths:
        - /
    service:
      ports:
        - name: http
          number: 8080
          description: HTTP
tests: |
  from mcp import ClientSession
  from mcp.client.streamable_http import streamablehttp_client
  import pytest

  @pytest.mark.asyncio
  async def test_service_connection():
      url = "http://{{ include "kubernetes-mcp.fullname" . }}:{{ .Values.service.ports.http }}/mcp"

      async with streamablehttp_client(url) as (read_stream, write_stream, _):
          async with ClientSession(read_stream, write_stream) as session:
              response = await session.initialize()

              assert response.serverInfo.name == "kubernetes-mcp-server"
