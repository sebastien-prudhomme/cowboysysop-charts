apiVersion: v2
appVersion: [[ application.appVersion ]]
[% set description = application.description | regex_replace(".*<<", "") | regex_replace(">>.*", "") %]
description: [[ description[0] | upper ]][[ description[1:] ]]
home: [[ application.home ]]
[% if application.icon %]
icon: [[ application.icon ]]
[% endif %]
maintainers:
  - name: sebastien-prudhomme
    email: sebastien.prudhomme@gmail.com
name: [[ application.name ]]
sources:
  [% if application.source %]
  - [[ application.source ]]
  [% endif %]
  - https://github.com/cowboysysop/charts/tree/master/charts/[[ application.name ]]
version: [[ application.version ]]
dependencies:
  - name: common
    version: 2.31.3
    repository: oci://ghcr.io/cowboysysop/charts
  [% if application.mariadb %]
  - name: mariadb
    version: 20.4.2
    repository: oci://ghcr.io/cowboysysop/charts
    condition: mariadb.enabled
  [% endif %]
  [% if application.mongodb %]
  - name: mongodb
    version: 15.1.5
    repository: oci://ghcr.io/cowboysysop/charts
    condition: mongodb.enabled
  [% endif %]
  [% if application.postgresql %]
  - name: postgresql
    version: 15.5.7
    repository: oci://ghcr.io/cowboysysop/charts
    condition: postgresql.enabled
  [% endif %]
  [% if application.redis %]
  - name: redis
    version: 21.2.6
    repository: oci://ghcr.io/cowboysysop/charts
    condition: redis.enabled
  [% endif %]
annotations:
  artifacthub.io/signKey: |
    fingerprint: 9E57D2479D48B84463EF491F66D280CE667AD6C8
    url: https://cowboysysop.github.io/charts/pgp-public-key-2022-02-19.asc
  kubeVersion: ">=[[ application.kubeMinVersion or "1.24" ]]"
